<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Georges River Libraries Babel Fish</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap');
        body { 
            font-family: 'Work Sans', sans-serif; 
            margin: 0; 
            background-color: #F9FAFB;
        }
        .text-shadow-light { 
            text-shadow: 0.5px 0.5px 1px rgba(0,0,0,0.05); 
        }
        .min-h-screen { 
            min-height: 100vh; 
        }
        .max-w-4xl { 
            max-width: 56rem; 
        }
        .mx-auto { 
            margin-left: auto; 
            margin-right: auto; 
        }
        .rounded-xl { 
            border-radius: 0.75rem; 
        }
        .shadow-lg { 
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); 
        }
        .p-6 { 
            padding: 1.5rem; 
        }
        .md\:p-8 { 
            padding: 2rem; 
        }
        .flex { 
            display: flex; 
        }
        .justify-center { 
            justify-content: center; 
        }
        .mb-6 { 
            margin-bottom: 1.5rem; 
        }
        .rounded-lg { 
            border-radius: 0.5rem; 
        }
        .text-4xl { 
            font-size: 2.25rem; 
        }
        .md\:text-5xl { 
            font-size: 3rem; 
        }
        .font-bold { 
            font-weight: 700; 
        }
        .text-center { 
            text-align: center; 
        }
        .gap-4 { 
            gap: 1rem; 
        }
        .mb-8 { 
            margin-bottom: 2rem; 
        }
        .button-base { 
            padding: 0.75rem 1.5rem; 
            border-radius: 9999px; 
            font-weight: 600; 
            transition: all 0.2s ease-in-out; 
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
            border: none; 
        }
        .mt-2 { 
            margin-top: 0.5rem; 
        }
        .button-primary-active { 
            background-color: #00A99D; 
            color: white; 
            transform: scale(1.05); 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); 
        }
        .button-primary-inactive { 
            background-color: #E5E7EB; 
            color: #333333; 
        }
        .button-primary-inactive:hover { 
            background-color: #E0F2F1; 
            color: #007A70; 
            transform: translateY(-1px); 
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15); 
        }
        .button-accent-active { 
            background-color: #EB001B; 
            color: white; 
            transform: scale(1.05); 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); 
        }
        .button-accent-inactive { 
            background-color: #E5E7EB; 
            color: #333333; 
        }
        .button-accent-inactive:hover { 
            background-color: #FDE0DF; 
            color: #EB001B; 
            transform: translateY(-1px); 
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15); 
        }
        .grid { 
            display: grid; 
        }
        .grid-cols-1 { 
            grid-template-columns: repeat(1, minmax(0, 1fr)); 
        }
        .md\:grid-cols-2 { 
            grid-template-columns: repeat(2, minmax(0, 1fr)); 
        }
        .gap-6 { 
            gap: 1.5rem; 
        }
        .bg-white { 
            background-color: white; 
        }
        .p-4 { 
            padding: 1rem; 
        }
        .rounded-lg { 
            border-radius: 0.5rem; 
        }
        .border { 
            border-width: 1px; 
        }
        .border-gray-200 { 
            border-color: #e5e7eb; 
        }
        .text-lg { 
            font-size: 1.125rem; 
        }
        .font-semibold { 
            font-weight: 600; 
        }
        .mb-2 { 
            margin-bottom: 0.5rem; 
        }
        .text-gray-600 { 
            color: #4b5563; 
        }
        .text-sm { 
            font-size: 0.875rem; 
        }
        .phrase-card { 
            background-color: white; 
            padding: 1.5rem; 
            border-radius: 0.75rem; /* rounded-lg */ 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08); 
            display: flex; 
            flex-direction: column; 
            justify-content: flex-start; /* Align content to the start (left) */ 
            transition: all 0.2s ease-in-out; 
        }
        .phrase-card:hover { 
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.12); 
            transform: translateY(-2px); 
        }
        .phrase-list-grid { /* New class for grid layout */ 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(calc(50% - 1rem), 1fr)); /* Two columns, considering gap */ 
            gap: 1rem; /* Gap between cards */ 
        }
        @media (max-width: 640px) { 
            .phrase-list-grid { 
                grid-template-columns: 1fr; 
            } 
        }
        .category-section { 
            background-color: #E0F2F1; 
            padding: 1.5rem; 
            border-radius: 0.75rem; 
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); 
        }
        .staff-category-button-active { 
            background-color: #00A99D; 
            color: white; 
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15); 
        }
        .staff-category-button-inactive { 
            background-color: #F1F3F4; 
            color: #3C4043; 
        }
        .staff-category-button-inactive:hover { 
            background-color: #E8EAED; 
            color: #00A99D; 
        }
        .customer-category-button-active { 
            background-color: #00A99D; 
            color: white; 
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15); 
        }
        .customer-category-button-inactive { 
            background-color: #F1F3F4; 
            color: #3C4043; 
        }
        .customer-category-button-inactive:hover { 
            background-color: #E8EAED; 
            color: #00A99D; 
        }
        .language-buttons-container { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 1rem; 
        }
        .language-buttons-row { 
            display: flex; 
            justify-content: center; 
            gap: 0.75rem; 
            flex-wrap: wrap; 
        }
        .language-button { 
            padding: 0.625rem 1.25rem; 
            border-radius: 9999px; 
            font-weight: 500; 
            font-size: 0.875rem; 
            transition: all 0.2s ease-in-out; 
            border: none; 
            cursor: pointer; 
            text-decoration: none; 
            display: inline-block; 
            text-align: center; 
            min-width: 90px; 
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); 
        }
        .language-button-active { 
            background-color: #00A99D; 
            color: white; 
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15); 
        }
        .language-button-inactive { 
            background-color: #F1F3F4; 
            color: #3C4043; 
        }
        .language-button-inactive:hover { 
            background-color: #E8EAED; 
            color: #00A99D; 
        }
        .cursor-pointer { 
            cursor: pointer; 
        }
        .flex-1 { 
            flex: 1 1 0%; 
        }
        .text-left { 
            text-align: left; 
        }
        .text-base { 
            font-size: 1rem; 
        }
        .font-medium { 
            font-weight: 500; 
        }
        .mb-1 { 
            margin-bottom: 0.25rem; 
        }
        .flex-shrink-0 { 
            flex-shrink: 0; 
        }
        .p-3 { 
            padding: 0.75rem; 
        }
        .rounded-full { 
            border-radius: 9999px; 
        }
        .shadow-md { 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); 
        }
        .transition-transform { 
            transition-property: transform; 
        }
        .transform { 
            transform: translateZ(0); 
        }
        .hover\:scale-105:hover { 
            transform: scale(1.05); 
        }
        .focus\:outline-none:focus { 
            outline: 2px solid transparent; 
            outline-offset: 2px; 
        }
        .focus\:ring-2:focus { 
            box-shadow: 0 0 0 2px rgba(0, 169, 157, 0.5); 
        }
        .focus\:ring-opacity-75:focus { 
            box-shadow: 0 0 0 2px rgba(0, 169, 157, 0.75); 
        }
        .popup-overlay { 
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background-color: rgba(0, 0, 0, 0.7); 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            z-index: 1000; 
        }
        .popup-content { 
            background-color: white; 
            padding: 2rem; 
            border-radius: 1rem; 
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3); 
            text-align: center; 
            position: relative; 
            max-width: 90vw; 
            max-height: 90vh; 
            display: flex; 
            flex-direction: column; 
        }
        .popup-close { 
            position: absolute; 
            top: 0.75rem; 
            right: 0.75rem; 
            background: none; 
            border: none; 
            font-size: 1.5rem; 
            cursor: pointer; 
            color: #333333; 
            padding: 0.25rem; 
            line-height: 1; 
        }
        .text-2xl { 
            font-size: 1.5rem; 
        }
        .text-teal-800 { 
            color: #115e59; 
        }
        .mb-4 { 
            margin-bottom: 1rem; 
        }
        .text-gray-700 { 
            color: #374151; 
        }
        .w-48 { 
            width: 12rem; 
        }
        .h-48 { 
            height: 12rem; 
        }
        .object-contain { 
            object-fit: contain; 
        }
        .mx-auto { 
            margin-left: auto; 
            margin-right: auto; 
        }
        .rounded-md { 
            border-radius: 0.375rem; 
        }
        .mt-4 { 
            margin-top: 1rem; 
        }
        .text-gray-500 { 
            color: #6b7280; 
        }
        .hidden { 
            display: none; 
        }
        .block { 
            display: block; 
        }
        .w-full { 
            width: 100%; 
        }
        .h-300 { 
            height: 300px; 
        }
        .border-0 { 
            border: 0; 
        }
        .loading-lazy { 
            loading: lazy; 
        }
        .no-referrer-when-downgrade { 
            referrerpolicy: no-referrer-when-downgrade; 
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }
        @media (min-width: 768px) {
            .md\:p-8 { 
                padding: 2rem; 
            }
            .md\:text-5xl { 
                font-size: 3rem; 
            }
            .md\:grid-cols-2 { 
                grid-template-columns: repeat(2, minmax(0, 1fr)); 
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Custom brand colours (approximated from the Georges River Council website)
        const brandColors = {
            primaryTeal: '#00A99D',
            darkTeal: '#007A70',
            lightTealBackground: '#E0F2F1',
            accentRed: '#EB001B',
            lightRedBackground: '#FDE0DF',
            darkGreyText: '#333333',
            mediumGrey: '#6B7280',
            lightGreyBackground: '#F9FAFB',
            filterButtonActiveBlue: '#4285F4',
            filterButtonInactiveBg: '#F1F3F4',
            filterButtonInactiveText: '#3C4043',
            filterButtonHoverBg: '#E8EAED',
        };

        // Mapping of display names to BCP-47 language codes for SpeechSynthesisUtterance
        const LANGUAGE_CODES = {
            'Mandarin': { code: 'zh-CN', nativeName: '普通话' },
            'Cantonese': { code: 'zh-HK', nativeName: '粤语' },
            'Nepali': { code: 'ne-NP', nativeName: 'नेपाली' },
            'Greek': { code: 'el-GR', nativeName: 'Ελληνικά' },
            'Arabic': { code: 'ar-SA', nativeName: 'العربية' },
            'Macedonian': { code: 'mk-MK', nativeName: 'Македонски' },
            'Spanish': { code: 'es-ES', nativeName: 'Español' },
            'Italian': { code: 'it-IT', nativeName: 'Italiano' },
            'Indonesian': { code: 'id-ID', nativeName: 'Bahasa Indonesia' },
            'English': { code: 'en-US', nativeName: 'English' },
        };

        // Speaker icon SVG
        const speakerIcon = (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
        );

        function App() {
            // Load saved state from localStorage or use defaults
            const getSavedState = (key, defaultValue) => {
                try {
                    const saved = localStorage.getItem(`babelFish_${key}`);
                    return saved ? JSON.parse(saved) : defaultValue;
                } catch (error) {
                    console.warn(`Error loading saved state for ${key}:`, error);
                    return defaultValue;
                }
            };

            const [currentMode, setCurrentMode] = useState(() => getSavedState('currentMode', 'staff'));
            const [showQrPopup, setShowQrPopup] = useState(false);
        const [qrPopupType, setQrPopupType] = useState('');
            const [showLanguageChoicePopup, setShowLanguageChoicePopup] = useState(false);
            const [staffLanguage, setStaffLanguage] = useState(() => getSavedState('staffLanguage', 'Mandarin'));
            const [customerLanguage, setCustomerLanguage] = useState(() => getSavedState('customerLanguage', 'Mandarin'));
            const [staffSubcategoryFilter, setStaffSubcategoryFilter] = useState(() => getSavedState('staffSubcategoryFilter', 'All'));
            const [customerSubcategoryFilter, setCustomerSubcategoryFilter] = useState(() => getSavedState('customerSubcategoryFilter', 'All'));
            const [userId, setUserId] = useState('Loading...');
            const [isAuthReady, setIsAuthReady] = useState(false);
            const [phrases, setPhrases] = useState([]);
            const [isAudioPlaying, setIsAudioPlaying] = useState(false);
            const [currentPlayingText, setCurrentPlayingText] = useState('');

            // Sample phrases data (simplified version of the full database)
            const samplePhrases = [
                {
                    id: '1',
                    english: 'Do you need help with printing, scanning or photocopying?',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '您需要帮助打印、扫描或复印吗？',
                        'zh-HK': '您需要幫助打印、掃描或複印嗎？',
                        'ne-NP': 'तपाईंलाई प्रिन्टिङ, स्क्यानिङ वा फोटोकपी गर्न मद्दत चाहिन्छ?',
                        'el-GR': 'Χρειάζεστε βοήθεια με την εκτύπωση, σάρωση ή φωτοτυπία;',
                        'ar-SA': 'هل تحتاج مساعدة في الطباعة أو المسح الضوئي أو النسخ؟',
                        'mk-MK': 'Дали ви треба помош со печатење, скенирање или фотокопирање?',
                        'es-ES': '¿Necesita ayuda con impresión, escaneo o fotocopiado?',
                        'it-IT': 'Ha bisogno di aiuto con stampa, scansione o fotocopiatura?',
                        'id-ID': 'Apakah Anda memerlukan bantuan dengan pencetakan, pemindaian atau fotokopi?'
                    }
                },
                {
                    id: '6',
                    english: 'Is this for return?',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '这是要还的吗？',
                        'zh-HK': '這是要還的嗎？',
                        'ne-NP': 'यो फिर्ता गर्नको लागि हो?',
                        'el-GR': 'Είναι αυτό για επιστροφή;',
                        'ar-SA': 'هل هذا للإرجاع؟',
                        'mk-MK': 'Дали ова е за враќање?',
                        'es-ES': '¿Es esto para devolver?',
                        'it-IT': 'Questo è per la restituzione?',
                        'id-ID': 'Apakah ini untuk dikembalikan?'
                    }
                },
                {
                    id: '7',
                    english: 'Would you like to renew these items?',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '您想续借这些物品吗？',
                        'zh-HK': '您想續借這些物品嗎？',
                        'ne-NP': 'तपाईं यी वस्तुहरू नवीनीकरण गर्न चाहनुहुन्छ?',
                        'el-GR': 'Θα θέλατε να ανανεώσετε αυτά τα αντικείμενα;',
                        'ar-SA': 'هل تريد تجديد هذه العناصر؟',
                        'mk-MK': 'Дали би сакале да ги обновите овие предмети?',
                        'es-ES': '¿Le gustaría renovar estos artículos?',
                        'it-IT': 'Vorrebbe rinnovare questi articoli?',
                        'id-ID': 'Apakah Anda ingin memperbarui item-item ini?'
                    }
                },
                {
                    id: '8',
                    english: 'I will find someone to help translate',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '我会找人帮您翻译。',
                        'zh-HK': '我會找人幫您翻譯。',
                        'ne-NP': 'म अनुवाद गर्न मद्दत गर्न कसैलाई भेटाउनेछु।',
                        'el-GR': 'Θα βρω κάποιον να βοηθήσει με τη μετάφραση.',
                        'ar-SA': 'سأجد شخصاً للمساعدة في الترجمة.',
                        'mk-MK': 'Ќе најдам некој да помогне со превод.',
                        'es-ES': 'Encontraré a alguien para ayudar con la traducción.',
                        'it-IT': 'Troverò qualcuno per aiutare con la traduzione.',
                        'id-ID': 'Saya akan mencari seseorang untuk membantu menerjemahkan.'
                    }
                },
                {
                    id: '13',
                    english: 'Follow me please',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '请跟我来。',
                        'zh-HK': '請跟我來。',
                        'ne-NP': 'कृपया मलाई पछ्याउनुहोस्।',
                        'el-GR': 'Παρακαλώ ακολουθήστε με.',
                        'ar-SA': 'يرجى اتباعي.',
                        'mk-MK': 'Ве молиме следете ме.',
                        'es-ES': 'Por favor sígame.',
                        'it-IT': 'Per favore seguitemi.',
                        'id-ID': 'Silakan ikuti saya.'
                    }
                },
                {
                    id: '14',
                    english: 'Please wait here',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '请在这里等。',
                        'zh-HK': '請在這裡等。',
                        'ne-NP': 'कृपया यहाँ प्रतीक्षा गर्नुहोस्।',
                        'el-GR': 'Παρακαλώ περιμένετε εδώ.',
                        'ar-SA': 'يرجى الانتظار هنا.',
                        'mk-MK': 'Ве молиме почекајте тука.',
                        'es-ES': 'Por favor espere aquí.',
                        'it-IT': 'Per favore aspetti qui.',
                        'id-ID': 'Silakan tunggu di sini.'
                    }
                },
                {
                    id: '15',
                    english: 'Is this your first time to this library?',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '这是您第一次来这个图书馆吗？',
                        'zh-HK': '這是您第一次來這個圖書館嗎？',
                        'ne-NP': 'यो तपाईंको यो पुस्तकालयमा पहिलो पटक हो?',
                        'el-GR': 'Είναι αυτή η πρώτη σας επίσκεψη σε αυτή τη βιβλιοθήκη;',
                        'ar-SA': 'هل هذه أول مرة لك في هذه المكتبة؟',
                        'mk-MK': 'Дали ова е прв пат во оваа библиотека?',
                        'es-ES': '¿Es la primera vez que viene a esta biblioteca?',
                        'it-IT': 'È la sua prima volta in questa biblioteca?',
                        'id-ID': 'Apakah ini pertama kalinya Anda ke perpustakaan ini?'
                    }
                },
                {
                    id: '16',
                    english: 'Do you understand?',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '您明白吗？',
                        'zh-HK': '您明白嗎？',
                        'ne-NP': 'तपाईं बुझ्नुहुन्छ?',
                        'el-GR': 'Καταλαβαίνετε;',
                        'ar-SA': 'هل تفهم؟',
                        'mk-MK': 'Дали разбирате?',
                        'es-ES': '¿Entiende?',
                        'it-IT': 'Capisce?',
                        'id-ID': 'Apakah Anda mengerti?'
                    }
                },
                {
                    id: '17',
                    english: 'Is this correct?',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '这是正确的吗？',
                        'zh-HK': '這是正確的嗎？',
                        'ne-NP': 'यो सही छ?',
                        'el-GR': 'Είναι αυτό σωστό;',
                        'ar-SA': 'هل هذا صحيح؟',
                        'mk-MK': 'Дали ова е точно?',
                        'es-ES': '¿Es esto correcto?',
                        'it-IT': 'È corretto?',
                        'id-ID': 'Apakah ini benar?'
                    }
                },
                {
                    id: '18',
                    english: 'Is this yours?',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '这是您的吗？',
                        'zh-HK': '這是您的嗎？',
                        'ne-NP': 'यो तपाईंको हो?',
                        'el-GR': 'Είναι αυτό δικό σας;',
                        'ar-SA': 'هل هذا لك؟',
                        'mk-MK': 'Дали ова е ваше?',
                        'es-ES': '¿Es esto suyo?',
                        'it-IT': 'È questo suo?',
                        'id-ID': 'Apakah ini milik Anda?'
                    }
                },
                {
                    id: '19',
                    english: 'Would you like to join this library?',
                    type: 'staff',
                    category: 'General Enquiries',
                    translations: {
                        'zh-CN': '您想加入这个图书馆吗？',
                        'zh-HK': '您想加入這個圖書館嗎？',
                        'ne-NP': 'तपाईं यो पुस्तकालयमा सामेल हुन चाहनुहुन्छ?',
                        'el-GR': 'Θα θέλατε να εγγραφείτε σε αυτή τη βιβλιοθήκη;',
                        'ar-SA': 'هل تريد الانضمام إلى هذه المكتبة؟',
                        'mk-MK': 'Дали би сакале да се приклучите во оваа библиотека?',
                        'es-ES': '¿Le gustaría unirse a esta biblioteca?',
                        'it-IT': 'Vorrebbe iscriversi a questa biblioteca?',
                        'id-ID': 'Apakah Anda ingin bergabung dengan perpustakaan ini?'
                    }
                },
                {
                    id: '9',
                    english: 'How do I access the internet on your computers?',
                    type: 'staff',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '您可以在我们的电脑上访问互联网。',
                        'zh-HK': '您可以在我們的電腦上訪問互聯網。',
                        'ne-NP': 'तपाईं हाम्रो कम्प्युटरहरूमा इन्टरनेट एक्सेस गर्न सक्नुहुन्छ।',
                        'el-GR': 'Μπορείτε να αποκτήσετε πρόσβαση στο διαδίκτυο στους υπολογιστές μας.',
                        'ar-SA': 'يمكنك الوصول إلى الإنترنت على أجهزة الكمبيوتر لدينا.',
                        'mk-MK': 'Можете да пристапите до интернет на нашите компјутери.',
                        'es-ES': 'Puede acceder a Internet en nuestras computadoras.',
                        'it-IT': 'Può accedere a Internet sui nostri computer.',
                        'id-ID': 'Anda dapat mengakses internet di komputer kami.'
                    }
                },
                {
                    id: '10',
                    english: 'Can I print documents here?',
                    type: 'staff',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '您可以在这里打印文件。',
                        'zh-HK': '您可以在這裡打印文件。',
                        'ne-NP': 'तपाईं यहाँ कागजातहरू प्रिन्ट गर्न सक्नुहुन्छ।',
                        'el-GR': 'Μπορείτε να εκτυπώσετε έγγραφα εδώ.',
                        'ar-SA': 'يمكنك طباعة المستندات هنا.',
                        'mk-MK': 'Можете да печатате документи овде.',
                        'es-ES': 'Puede imprimir documentos aquí.',
                        'it-IT': 'Può stampare documenti qui.',
                        'id-ID': 'Anda dapat mencetak dokumen di sini.'
                    }
                },
                {
                    id: '11',
                    english: 'How much does it cost to print?',
                    type: 'staff',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '打印费用是每页20分。',
                        'zh-HK': '打印費用是每頁20分。',
                        'ne-NP': 'प्रिन्ट गर्न प्रति पृष्ठ २० सेन्ट लाग्छ।',
                        'el-GR': 'Η εκτύπωση κοστίζει 20 λεπτά ανά σελίδα.',
                        'ar-SA': 'تكلفة الطباعة 20 سنت لكل صفحة.',
                        'mk-MK': 'Печатењето чини 20 центи по страница.',
                        'es-ES': 'La impresión cuesta 20 centavos por página.',
                        'it-IT': 'La stampa costa 20 centesimi per pagina.',
                        'id-ID': 'Biaya cetak adalah 20 sen per halaman.'
                    }
                },
                {
                    id: '12',
                    english: 'Do you have scanning services?',
                    type: 'staff',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '我们有扫描服务。',
                        'zh-HK': '我們有掃描服務。',
                        'ne-NP': 'हामीसँग स्क्यानिङ सेवाहरू छन्।',
                        'el-GR': 'Έχουμε υπηρεσίες σάρωσης.',
                        'ar-SA': 'لدينا خدمات المسح الضوئي.',
                        'mk-MK': 'Имаме услуги за скенирање.',
                        'es-ES': 'Tenemos servicios de escaneo.',
                        'it-IT': 'Abbiamo servizi di scansione.',
                        'id-ID': 'Kami memiliki layanan pemindaian.'
                    }
                },
                {
                    id: '17',
                    english: 'Can I use the photocopier?',
                    type: 'staff',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '您可以使用复印机。',
                        'zh-HK': '您可以使用複印機。',
                        'ne-NP': 'तपाईं फोटोकपी मेसिन प्रयोग गर्न सक्नुहुन्छ।',
                        'el-GR': 'Μπορείτε να χρησιμοποιήσετε τον φωτοτυπικό.',
                        'ar-SA': 'يمكنك استخدام آلة النسخ.',
                        'mk-MK': 'Можете да го користите фотокопирачот.',
                        'es-ES': 'Puede usar la fotocopiadora.',
                        'it-IT': 'Può usare la fotocopiatrice.',
                        'id-ID': 'Anda dapat menggunakan mesin fotokopi.'
                    }
                },
                {
                    id: '18',
                    english: 'How do I connect to the library Wi-Fi?',
                    type: 'staff',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '您可以连接到图书馆Wi-Fi。',
                        'zh-HK': '您可以連接到圖書館Wi-Fi。',
                        'ne-NP': 'तपाईं पुस्तकालय Wi-Fi मा जडान गर्न सक्नुहुन्छ।',
                        'el-GR': 'Μπορείτε να συνδεθείτε στο Wi-Fi της βιβλιοθήκης.',
                        'ar-SA': 'يمكنك الاتصال بواي فاي المكتبة.',
                        'mk-MK': 'Можете да се поврзете со Wi-Fi на библиотеката.',
                        'es-ES': 'Puede conectarse al Wi-Fi de la biblioteca.',
                        'it-IT': 'Può connettersi al Wi-Fi della biblioteca.',
                        'id-ID': 'Anda dapat terhubung ke Wi-Fi perpustakaan.'
                    }
                },
                {
                    id: '19',
                    english: 'Do you have computer training classes?',
                    type: 'staff',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '我们有电脑培训课程。',
                        'zh-HK': '我們有電腦培訓課程。',
                        'ne-NP': 'हामीसँग कम्प्युटर प्रशिक्षण कक्षाहरू छन्।',
                        'el-GR': 'Έχουμε μαθήματα εκπαίδευσης υπολογιστών.',
                        'ar-SA': 'لدينا دروس تدريب على الكمبيوتر.',
                        'mk-MK': 'Имаме часови за обука на компјутер.',
                        'es-ES': 'Tenemos clases de capacitación en computación.',
                        'it-IT': 'Abbiamo corsi di formazione informatica.',
                        'id-ID': 'Kami memiliki kelas pelatihan komputer.'
                    }
                },
                {
                    id: '20',
                    english: 'Can I use the library\'s online resources?',
                    type: 'staff',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '您可以使用图书馆的在线资源。',
                        'zh-HK': '您可以使用圖書館的線上資源。',
                        'ne-NP': 'तपाईं पुस्तकालयको अनलाइन स्रोतहरू प्रयोग गर्न सक्नुहुन्छ।',
                        'el-GR': 'Μπορείτε να χρησιμοποιήσετε τους διαδικτυακούς πόρους της βιβλιοθήκης.',
                        'ar-SA': 'يمكنك استخدام الموارد الإلكترونية للمكتبة.',
                        'mk-MK': 'Можете да ги користите онлајн ресурсите на библиотеката.',
                        'es-ES': 'Puede usar los recursos en línea de la biblioteca.',
                        'it-IT': 'Può usare le risorse online della biblioteca.',
                        'id-ID': 'Anda dapat menggunakan sumber daya online perpustakaan.'
                    }
                },
                {
                    id: '2',
                    english: 'Do you have a library card?',
                    type: 'staff',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '您有借书证吗？',
                        'zh-HK': '您有借書證嗎？',
                        'ne-NP': 'तपाईंसँग पुस्तकालय कार्ड छ?',
                        'el-GR': 'Έχετε κάρτα βιβλιοθήκης;',
                        'ar-SA': 'هل لديك بطاقة مكتبة؟',
                        'mk-MK': 'Дали имате библиотекарска картичка?',
                        'es-ES': '¿Tienes una tarjeta de biblioteca?',
                        'it-IT': 'Hai una tessera della biblioteca?',
                        'id-ID': 'Apakah Anda memiliki kartu perpustakaan?'
                    }
                },
                {
                    id: '21',
                    english: 'Would you like to renew your library card?',
                    type: 'staff',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '您想续借您的借书证吗？',
                        'zh-HK': '您想續借您的借書證嗎？',
                        'ne-NP': 'तपाईं आफ्नो पुस्तकालय कार्ड नवीनीकरण गर्न चाहनुहुन्छ?',
                        'el-GR': 'Θα θέλατε να ανανεώσετε την κάρτα βιβλιοθήκης σας;',
                        'ar-SA': 'هل تريد تجديد بطاقة المكتبة الخاصة بك؟',
                        'mk-MK': 'Дали би сакале да ја обновите вашата библиотекарска картичка?',
                        'es-ES': '¿Le gustaría renovar su tarjeta de biblioteca?',
                        'it-IT': 'Vorrebbe rinnovare la sua tessera della biblioteca?',
                        'id-ID': 'Apakah Anda ingin memperbarui kartu perpustakaan Anda?'
                    }
                },
                {
                    id: '22',
                    english: 'How many items can I borrow?',
                    type: 'staff',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '您可以借20件物品。',
                        'zh-HK': '您可以借20件物品。',
                        'ne-NP': 'तपाईं २० वस्तुहरू सापटी लिन सक्नुहुन्छ।',
                        'el-GR': 'Μπορείτε να δανειστείτε 20 αντικείμενα.',
                        'ar-SA': 'يمكنك استعارة 20 عنصر.',
                        'mk-MK': 'Можете да позајмите 20 предмети.',
                        'es-ES': 'Puede pedir prestados 20 artículos.',
                        'it-IT': 'Può prendere in prestito 20 articoli.',
                        'id-ID': 'Anda dapat meminjam 20 item.'
                    }
                },
                {
                    id: '23',
                    english: 'What is the loan period for books?',
                    type: 'staff',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '图书的借阅期限是3周。',
                        'zh-HK': '圖書的借閱期限是3週。',
                        'ne-NP': 'किताबहरूको सापटी अवधि ३ हप्ता छ।',
                        'el-GR': 'Η περίοδος δανεισμού για τα βιβλία είναι 3 εβδομάδες.',
                        'ar-SA': 'مدة الاستعارة للكتب هي 3 أسابيع.',
                        'mk-MK': 'Рокот на позајмување за книги е 3 недели.',
                        'es-ES': 'El período de préstamo para los libros es de 3 semanas.',
                        'it-IT': 'Il periodo di prestito per i libri è di 3 settimane.',
                        'id-ID': 'Masa pinjaman untuk buku adalah 3 minggu.'
                    }
                },
                {
                    id: '24',
                    english: 'Can I place a hold on a book?',
                    type: 'staff',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '您可以预约一本书。',
                        'zh-HK': '您可以預約一本書。',
                        'ne-NP': 'तपाईं एउटा किताबमा होल्ड राख्न सक्नुहुन्छ।',
                        'el-GR': 'Μπορείτε να κλείσετε κράτηση για ένα βιβλίο.',
                        'ar-SA': 'يمكنك حجز كتاب.',
                        'mk-MK': 'Можете да ставате резервација за книга.',
                        'es-ES': 'Puede reservar un libro.',
                        'it-IT': 'Può prenotare un libro.',
                        'id-ID': 'Anda dapat memesan buku.'
                    }
                },
                {
                    id: '25',
                    english: 'Do you have any overdue items?',
                    type: 'staff',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '您有任何逾期物品吗？',
                        'zh-HK': '您有任何逾期物品嗎？',
                        'ne-NP': 'तपाईंसँग कुनै ओभरड्यु आइटम छन्?',
                        'el-GR': 'Έχετε καθυστερημένα αντικείμενα;',
                        'ar-SA': 'هل لديك أي عناصر متأخرة؟',
                        'mk-MK': 'Дали имате задоцнети предмети?',
                        'es-ES': '¿Tiene algún artículo vencido?',
                        'it-IT': 'Ha articoli scaduti?',
                        'id-ID': 'Apakah Anda memiliki item yang terlambat?'
                    }
                },
                {
                    id: '26',
                    english: 'Would you like to pay your fines?',
                    type: 'staff',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '您想支付您的罚款吗？',
                        'zh-HK': '您想支付您的罰款嗎？',
                        'ne-NP': 'तपाईं आफ्नो जरिवाना तिर्न चाहनुहुन्छ?',
                        'el-GR': 'Θα θέλατε να πληρώσετε τα πρόστιμά σας;',
                        'ar-SA': 'هل تريد دفع الغرامات الخاصة بك؟',
                        'mk-MK': 'Дали би сакале да ги платите вашите казни?',
                        'es-ES': '¿Le gustaría pagar sus multas?',
                        'it-IT': 'Vorrebbe pagare le sue multe?',
                        'id-ID': 'Apakah Anda ingin membayar denda Anda?'
                    }
                },
                {
                    id: '27',
                    english: 'Can I return books at any branch?',
                    type: 'staff',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '您可以在任何分馆还书。',
                        'zh-HK': '您可以在任何分館還書。',
                        'ne-NP': 'तपाईं कुनै पनि शाखामा किताबहरू फिर्ता गर्न सक्नुहुन्छ।',
                        'el-GR': 'Μπορείτε να επιστρέψετε βιβλία σε οποιοδήποτε υποκατάστημα.',
                        'ar-SA': 'يمكنك إرجاع الكتب في أي فرع.',
                        'mk-MK': 'Можете да вратите книги во која било филијала.',
                        'es-ES': 'Puede devolver libros en cualquier sucursal.',
                        'it-IT': 'Può restituire i libri in qualsiasi filiale.',
                        'id-ID': 'Anda dapat mengembalikan buku di cabang mana pun.'
                    }
                },
                {
                    id: '3',
                    english: 'I need help finding a book.',
                    type: 'customer',
                    category: 'General Assistance',
                    translations: {
                        'zh-CN': '我需要帮助找一本书。',
                        'zh-HK': '我需要幫助找一本書。',
                        'ne-NP': 'मलाई एउटा किताब भेट्न मद्दत चाहिन्छ।',
                        'el-GR': 'Χρειάζομαι βοήθεια για να βρω ένα βιβλίο.',
                        'ar-SA': 'أحتاج مساعدة في العثور على كتاب.',
                        'mk-MK': 'Ми треба помош за да најдам книга.',
                        'es-ES': 'Necesito ayuda para encontrar un libro.',
                        'it-IT': 'Ho bisogno di aiuto per trovare un libro.',
                        'id-ID': 'Saya perlu bantuan untuk menemukan buku.'
                    }
                },
                {
                    id: '4',
                    english: 'Where are the computers?',
                    type: 'customer',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '电脑在哪里？',
                        'zh-HK': '電腦在哪裡？',
                        'ne-NP': 'कम्प्युटरहरू कहाँ छन्?',
                        'el-GR': 'Πού είναι οι υπολογιστές;',
                        'ar-SA': 'أين أجهزة الكمبيوتر؟',
                        'mk-MK': 'Каде се компјутерите?',
                        'es-ES': '¿Dónde están las computadoras?',
                        'it-IT': 'Dove sono i computer?',
                        'id-ID': 'Di mana komputer-komputer itu?'
                    }
                },
                {
                    id: '5',
                    english: 'How do I get to Centrelink?',
                    type: 'customer',
                    category: 'General Assistance',
                    translations: {
                        'zh-CN': '我怎么去Centrelink？',
                        'zh-HK': '我怎麼去Centrelink？',
                        'ne-NP': 'म कसरी Centrelink मा जान सक्छु?',
                        'el-GR': 'Πώς μπορώ να φτάσω στο Centrelink;',
                        'ar-SA': 'كيف أصل إلى Centrelink؟',
                        'mk-MK': 'Како да стигнам до Centrelink?',
                        'es-ES': '¿Cómo llego a Centrelink?',
                        'it-IT': 'Come arrivo a Centrelink?',
                        'id-ID': 'Bagaimana saya bisa ke Centrelink?'
                    }
                },
                {
                    id: '28',
                    english: 'I would like to sign up for a library card.',
                    type: 'customer',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '我想申请一张借书证。',
                        'zh-HK': '我想申請一張借書證。',
                        'ne-NP': 'म पुस्तकालय कार्डको लागि साइन अप गर्न चाहन्छु।',
                        'el-GR': 'Θα ήθελα να εγγραφώ για κάρτα βιβλιοθήκης.',
                        'ar-SA': 'أود التسجيل للحصول على بطاقة مكتبة.',
                        'mk-MK': 'Би сакав да се регистрирам за библиотекарска картичка.',
                        'es-ES': 'Me gustaría registrarme para una tarjeta de biblioteca.',
                        'it-IT': 'Vorrei iscrivermi per una tessera della biblioteca.',
                        'id-ID': 'Saya ingin mendaftar untuk kartu perpustakaan.'
                    }
                },
                {
                    id: '29',
                    english: 'How much does it cost to join the library?',
                    type: 'customer',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '加入图书馆要多少钱？',
                        'zh-HK': '加入圖書館要多少錢？',
                        'ne-NP': 'पुस्तकालयमा सामेल हुन कति लाग्छ?',
                        'el-GR': 'Πόσο κοστίζει η ένταξη στη βιβλιοθήκη;',
                        'ar-SA': 'كم تكلفة الانضمام إلى المكتبة؟',
                        'mk-MK': 'Колку чини да се приклучиш во библиотеката?',
                        'es-ES': '¿Cuánto cuesta unirse a la biblioteca?',
                        'it-IT': 'Quanto costa iscriversi alla biblioteca?',
                        'id-ID': 'Berapa biaya untuk bergabung dengan perpustakaan?'
                    }
                },
                {
                    id: '30',
                    english: 'I do not have a library card.',
                    type: 'customer',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '我没有借书证。',
                        'zh-HK': '我沒有借書證。',
                        'ne-NP': 'मसँग पुस्तकालय कार्ड छैन।',
                        'el-GR': 'Δεν έχω κάρτα βιβλιοθήκης.',
                        'ar-SA': 'ليس لدي بطاقة مكتبة.',
                        'mk-MK': 'Немам библиотекарска картичка.',
                        'es-ES': 'No tengo tarjeta de biblioteca.',
                        'it-IT': 'Non ho una tessera della biblioteca.',
                        'id-ID': 'Saya tidak memiliki kartu perpustakaan.'
                    }
                },
                {
                    id: '31',
                    english: 'Can you help me find a specific book?',
                    type: 'customer',
                    category: 'General Assistance',
                    translations: {
                        'zh-CN': '您能帮我找一本特定的书吗？',
                        'zh-HK': '您能幫我找一本特定的書嗎？',
                        'ne-NP': 'तपाईं मलाई एउटा विशेष किताब भेट्न मद्दत गर्न सक्नुहुन्छ?',
                        'el-GR': 'Μπορείτε να με βοηθήσετε να βρω ένα συγκεκριμένο βιβλίο;',
                        'ar-SA': 'هل يمكنك مساعدتي في العثور على كتاب معين؟',
                        'mk-MK': 'Можете ли да ми помогнете да најдам одредена книга?',
                        'es-ES': '¿Puede ayudarme a encontrar un libro específico?',
                        'it-IT': 'Può aiutarmi a trovare un libro specifico?',
                        'id-ID': 'Bisakah Anda membantu saya menemukan buku tertentu?'
                    }
                },
                {
                    id: '32',
                    english: 'Where can I find the latest magazines?',
                    type: 'customer',
                    category: 'General Assistance',
                    translations: {
                        'zh-CN': '我在哪里可以找到最新的杂志？',
                        'zh-HK': '我在哪裡可以找到最新的雜誌？',
                        'ne-NP': 'म नयाँ पत्रिकाहरू कहाँ भेट्न सक्छु?',
                        'el-GR': 'Πού μπορώ να βρω τα τελευταία περιοδικά;',
                        'ar-SA': 'أين يمكنني العثور على أحدث المجلات؟',
                        'mk-MK': 'Каде можам да најдам најнови списанија?',
                        'es-ES': '¿Dónde puedo encontrar las revistas más recientes?',
                        'it-IT': 'Dove posso trovare le riviste più recenti?',
                        'id-ID': 'Di mana saya bisa menemukan majalah terbaru?'
                    }
                },
                {
                    id: '33',
                    english: 'Do you have any study rooms available?',
                    type: 'customer',
                    category: 'General Assistance',
                    translations: {
                        'zh-CN': '你们有任何可用的学习室吗？',
                        'zh-HK': '你們有任何可用的學習室嗎？',
                        'ne-NP': 'तपाईंसँग कुनै अध्ययन कोठाहरू उपलब्ध छन्?',
                        'el-GR': 'Έχετε διαθέσιμες αίθουσες μελέτης;',
                        'ar-SA': 'هل لديكم غرف دراسة متاحة؟',
                        'mk-MK': 'Дали имате достапни студиски простори?',
                        'es-ES': '¿Tienen salas de estudio disponibles?',
                        'it-IT': 'Avete sale di studio disponibili?',
                        'id-ID': 'Apakah Anda memiliki ruang belajar yang tersedia?'
                    }
                },
                {
                    id: '34',
                    english: 'How do I reserve a book online?',
                    type: 'customer',
                    category: 'General Assistance',
                    translations: {
                        'zh-CN': '我如何在线预约一本书？',
                        'zh-HK': '我如何在線預約一本書？',
                        'ne-NP': 'म अनलाइन एउटा किताब कसरी रिजर्भ गर्न सक्छु?',
                        'el-GR': 'Πώς μπορώ να κλείσω κράτηση βιβλίου διαδικτυακά;',
                        'ar-SA': 'كيف يمكنني حجز كتاب عبر الإنترنت؟',
                        'mk-MK': 'Како можам да резервирам книга онлајн?',
                        'es-ES': '¿Cómo puedo reservar un libro en línea?',
                        'it-IT': 'Come posso prenotare un libro online?',
                        'id-ID': 'Bagaimana saya bisa memesan buku secara online?'
                    }
                },
                {
                    id: '35',
                    english: 'What are your opening hours today?',
                    type: 'customer',
                    category: 'General Assistance',
                    translations: {
                        'zh-CN': '你们今天什么时候开门？',
                        'zh-HK': '你們今天什麼時候開門？',
                        'ne-NP': 'तपाईंको आजको खुला समय के हो?',
                        'el-GR': 'Ποιες είναι οι ώρες λειτουργίας σας σήμερα;',
                        'ar-SA': 'ما هي ساعات العمل لديكم اليوم؟',
                        'mk-MK': 'Кои се вашите работни часови денес?',
                        'es-ES': '¿Cuáles son sus horarios de apertura hoy?',
                        'it-IT': 'Quali sono i vostri orari di apertura oggi?',
                        'id-ID': 'Apa jam buka Anda hari ini?'
                    }
                },
                {
                    id: '36',
                    english: 'Can I bring my laptop to the library?',
                    type: 'customer',
                    category: 'General Assistance',
                    translations: {
                        'zh-CN': '我可以带笔记本电脑到图书馆吗？',
                        'zh-HK': '我可以帶筆記本電腦到圖書館嗎？',
                        'ne-NP': 'म पुस्तकालयमा मेरो ल्यापटप ल्याउन सक्छु?',
                        'el-GR': 'Μπορώ να φέρω τον φορητό υπολογιστή μου στη βιβλιοθήκη;',
                        'ar-SA': 'هل يمكنني إحضار جهاز الكمبيوتر المحمول إلى المكتبة؟',
                        'mk-MK': 'Можам ли да го донесам мојот лаптоп во библиотеката?',
                        'es-ES': '¿Puedo traer mi computadora portátil a la biblioteca?',
                        'it-IT': 'Posso portare il mio laptop in biblioteca?',
                        'id-ID': 'Bisakah saya membawa laptop ke perpustakaan?'
                    }
                },
                {
                    id: '37',
                    english: 'How can I connect to the Wi-Fi?',
                    type: 'customer',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '我如何连接Wi-Fi？',
                        'zh-HK': '我如何連接Wi-Fi？',
                        'ne-NP': 'म Wi-Fi मा कसरी जडान गर्न सक्छु?',
                        'el-GR': 'Πώς μπορώ να συνδεθώ στο Wi-Fi;',
                        'ar-SA': 'كيف يمكنني الاتصال بالواي فاي؟',
                        'mk-MK': 'Како да се поврзам со Wi-Fi?',
                        'es-ES': '¿Cómo puedo conectarme al Wi-Fi?',
                        'it-IT': 'Come posso connettermi al Wi-Fi?',
                        'id-ID': 'Bagaimana saya bisa terhubung ke Wi-Fi?'
                    }
                },
                {
                    id: '38',
                    english: 'Are there public computers available?',
                    type: 'customer',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '有公共电脑可用吗？',
                        'zh-HK': '有公共電腦可用嗎？',
                        'ne-NP': 'सार्वजनिक कम्प्युटरहरू उपलब्ध छन्?',
                        'el-GR': 'Υπάρχουν διαθέσιμοι δημόσιοι υπολογιστές;',
                        'ar-SA': 'هل هناك أجهزة كمبيوتر عامة متاحة؟',
                        'mk-MK': 'Дали има достапни јавни компјутери?',
                        'es-ES': '¿Hay computadoras públicas disponibles?',
                        'it-IT': 'Ci sono computer pubblici disponibili?',
                        'id-ID': 'Apakah ada komputer publik yang tersedia?'
                    }
                },
                {
                    id: '39',
                    english: 'I need help using a computer.',
                    type: 'customer',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '我需要帮助使用电脑。',
                        'zh-HK': '我需要幫助使用電腦。',
                        'ne-NP': 'मलाई कम्प्युटर प्रयोग गर्न मद्दत चाहिन्छ।',
                        'el-GR': 'Χρειάζομαι βοήθεια για τη χρήση υπολογιστή.',
                        'ar-SA': 'أحتاج مساعدة في استخدام الكمبيوتر.',
                        'mk-MK': 'Ми треба помош за користење компјутер.',
                        'es-ES': 'Necesito ayuda para usar una computadora.',
                        'it-IT': 'Ho bisogno di aiuto per usare un computer.',
                        'id-ID': 'Saya perlu bantuan menggunakan komputer.'
                    }
                },
                {
                    id: '40',
                    english: 'I need help using the internet.',
                    type: 'customer',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '我需要帮助使用互联网。',
                        'zh-HK': '我需要幫助使用互聯網。',
                        'ne-NP': 'मलाई इन्टरनेट प्रयोग गर्न मद्दत चाहिन्छ।',
                        'el-GR': 'Χρειάζομαι βοήθεια για τη χρήση του διαδικτύου.',
                        'ar-SA': 'أحتاج مساعدة في استخدام الإنترنت.',
                        'mk-MK': 'Ми треба помош за користење интернет.',
                        'es-ES': 'Necesito ayuda para usar Internet.',
                        'it-IT': 'Ho bisogno di aiuto per usare Internet.',
                        'id-ID': 'Saya perlu bantuan menggunakan internet.'
                    }
                },
                {
                    id: '41',
                    english: 'Are there printers available?',
                    type: 'customer',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '有打印机可用吗？',
                        'zh-HK': '有打印機可用嗎？',
                        'ne-NP': 'प्रिन्टरहरू उपलब्ध छन्?',
                        'el-GR': 'Υπάρχουν διαθέσιμοι εκτυπωτές;',
                        'ar-SA': 'هل هناك طابعات متاحة؟',
                        'mk-MK': 'Дали има достапни печатачи?',
                        'es-ES': '¿Hay impresoras disponibles?',
                        'it-IT': 'Ci sono stampanti disponibili?',
                        'id-ID': 'Apakah ada printer yang tersedia?'
                    }
                },
                {
                    id: '42',
                    english: 'I need help using a printer.',
                    type: 'customer',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '我需要帮助使用打印机。',
                        'zh-HK': '我需要幫助使用打印機。',
                        'ne-NP': 'मलाई प्रिन्टर प्रयोग गर्न मद्दत चाहिन्छ।',
                        'el-GR': 'Χρειάζομαι βοήθεια για τη χρήση εκτυπωτή.',
                        'ar-SA': 'أحتاج مساعدة في استخدام الطابعة.',
                        'mk-MK': 'Ми треба помош за користење печатач.',
                        'es-ES': 'Necesito ayuda para usar una impresora.',
                        'it-IT': 'Ho bisogno di aiuto per usare una stampante.',
                        'id-ID': 'Saya perlu bantuan menggunakan printer.'
                    }
                },
                {
                    id: '43',
                    english: 'Are there scanners available?',
                    type: 'customer',
                    category: 'Digital Services',
                    translations: {
                        'zh-CN': '有扫描仪可用吗？',
                        'zh-HK': '有掃描儀可用嗎？',
                        'ne-NP': 'स्क्यानरहरू उपलब्ध छन्?',
                        'el-GR': 'Υπάρχουν διαθέσιμα σκάνερ;',
                        'ar-SA': 'هل هناك ماسحات ضوئية متاحة؟',
                        'mk-MK': 'Дали има достапни скенери?',
                        'es-ES': '¿Hay escáneres disponibles?',
                        'it-IT': 'Ci sono scanner disponibili?',
                        'id-ID': 'Apakah ada scanner yang tersedia?'
                    }
                },
                {
                    id: '44',
                    english: 'How many books can I borrow?',
                    type: 'customer',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '我可以借多少本书？',
                        'zh-HK': '我可以借多少本書？',
                        'ne-NP': 'म कति किताबहरू सापटी लिन सक्छु?',
                        'el-GR': 'Πόσα βιβλία μπορώ να δανειστώ;',
                        'ar-SA': 'كم عدد الكتب التي يمكنني استعارتها؟',
                        'mk-MK': 'Колку книги можам да позајмам?',
                        'es-ES': '¿Cuántos libros puedo pedir prestados?',
                        'it-IT': 'Quanti libri posso prendere in prestito?',
                        'id-ID': 'Berapa banyak buku yang bisa saya pinjam?'
                    }
                },
                {
                    id: '45',
                    english: 'What is the loan period for books?',
                    type: 'customer',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '图书的借阅期限是多久？',
                        'zh-HK': '圖書的借閱期限是多久？',
                        'ne-NP': 'किताबहरूको सापटी अवधि कति छ?',
                        'el-GR': 'Ποια είναι η περίοδος δανεισμού για τα βιβλία;',
                        'ar-SA': 'ما هي مدة الاستعارة للكتب؟',
                        'mk-MK': 'Која е рокот на позајмување за книги?',
                        'es-ES': '¿Cuál es el período de préstamo para los libros?',
                        'it-IT': 'Qual è il periodo di prestito per i libri?',
                        'id-ID': 'Berapa lama masa pinjaman untuk buku?'
                    }
                },
                {
                    id: '46',
                    english: 'Can I place a hold on a book?',
                    type: 'customer',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '我可以预约一本书吗？',
                        'zh-HK': '我可以預約一本書嗎？',
                        'ne-NP': 'म एउटा किताबमा होल्ड राख्न सक्छु?',
                        'el-GR': 'Μπορώ να κλείσω κράτηση για ένα βιβλίο;',
                        'ar-SA': 'هل يمكنني حجز كتاب؟',
                        'mk-MK': 'Можам ли да ставам резервација за книга?',
                        'es-ES': '¿Puedo reservar un libro?',
                        'it-IT': 'Posso prenotare un libro?',
                        'id-ID': 'Bisakah saya memesan buku?'
                    }
                },
                {
                    id: '47',
                    english: 'Do I have any overdue items?',
                    type: 'customer',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '我有任何逾期物品吗？',
                        'zh-HK': '我有任何逾期物品嗎？',
                        'ne-NP': 'मसँग कुनै ओभरड्यु आइटम छन्?',
                        'el-GR': 'Έχω καθυστερημένα αντικείμενα;',
                        'ar-SA': 'هل لدي أي عناصر متأخرة؟',
                        'mk-MK': 'Дали имам задоцнети предмети?',
                        'es-ES': '¿Tengo algún artículo vencido?',
                        'it-IT': 'Ho articoli scaduti?',
                        'id-ID': 'Apakah saya memiliki item yang terlambat?'
                    }
                },
                {
                    id: '48',
                    english: 'How much are the late fees?',
                    type: 'customer',
                    category: 'Transactional',
                    translations: {
                        'zh-CN': '逾期费用是多少？',
                        'zh-HK': '逾期費用是多少？',
                        'ne-NP': 'ओभरड्यु शुल्क कति छ?',
                        'el-GR': 'Πόσο είναι τα πρόστιμα καθυστέρησης;',
                        'ar-SA': 'كم هي رسوم التأخير؟',
                        'mk-MK': 'Колку се казните за доцнење?',
                        'es-ES': '¿Cuánto son las multas por retraso?',
                        'it-IT': 'Quanto sono le multe per ritardo?',
                        'id-ID': 'Berapa biaya keterlambatan?'
                    }
                },

            ];

            // Save state to localStorage
            const saveState = (key, value) => {
                try {
                    localStorage.setItem(`babelFish_${key}`, JSON.stringify(value));
                } catch (error) {
                    console.warn(`Error saving state for ${key}:`, error);
                }
            };

            // Save state whenever it changes
            useEffect(() => {
                saveState('currentMode', currentMode);
            }, [currentMode]);

            useEffect(() => {
                saveState('staffLanguage', staffLanguage);
            }, [staffLanguage]);

            useEffect(() => {
                saveState('customerLanguage', customerLanguage);
            }, [customerLanguage]);

            useEffect(() => {
                saveState('staffSubcategoryFilter', staffSubcategoryFilter);
            }, [staffSubcategoryFilter]);

            useEffect(() => {
                saveState('customerSubcategoryFilter', customerSubcategoryFilter);
            }, [customerSubcategoryFilter]);

            useEffect(() => {
                // Simulate loading phrases
                setTimeout(() => {
                    setPhrases(samplePhrases);
                    setIsAuthReady(true);
                    setUserId('demo-user-123');
                }, 1000);
            }, []);

            const speakPhrase = (text, langCode) => {
                if ('speechSynthesis' in window) {
                    // Stop any currently playing speech
                    speechSynthesis.cancel();
                    
                    // Set playing state
                    setIsAudioPlaying(true);
                    setCurrentPlayingText(text);
                    
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = langCode;
                    utterance.rate = 0.8;
                    utterance.pitch = 1.0;
                    utterance.volume = 1.0;
                    
                    // Try to select the best available voice for the language
                    const voices = speechSynthesis.getVoices();
                    const preferredVoice = voices.find(voice => 
                        voice.lang.startsWith(langCode.split('-')[0]) && 
                        voice.lang.includes(langCode.split('-')[1] || '')
                    );
                    
                    if (preferredVoice) {
                        utterance.voice = preferredVoice;
                    }
                    
                    // Add event handlers for better user experience
                    utterance.onstart = () => {
                        console.log(`Started speaking: ${text}`);
                        setIsAudioPlaying(true);
                        setCurrentPlayingText(text);
                    };
                    
                    utterance.onend = () => {
                        console.log(`Finished speaking: ${text}`);
                        setIsAudioPlaying(false);
                        setCurrentPlayingText('');
                    };
                    
                    utterance.onerror = (event) => {
                        console.error('Speech synthesis error:', event.error);
                        setIsAudioPlaying(false);
                        setCurrentPlayingText('');
                        
                        // Fallback: try with a different voice or language code
                        if (event.error === 'not-allowed') {
                            // Try with a more generic language code
                            const fallbackLangCode = langCode.split('-')[0];
                            if (fallbackLangCode !== langCode) {
                                utterance.lang = fallbackLangCode;
                                speechSynthesis.speak(utterance);
                            }
                        }
                    };
                    
                    // Add a small delay to ensure the previous speech is fully stopped
                    setTimeout(() => {
                        speechSynthesis.speak(utterance);
                    }, 50);
                } else {
                    // Fallback for browsers without speech synthesis
                    alert('Text-to-speech is not supported in this browser. Please try a different browser.');
                }
            };

            // Enhanced function to get available voices and log them for debugging
            const logAvailableVoices = () => {
                if ('speechSynthesis' in window) {
                    const voices = speechSynthesis.getVoices();
                    console.log('Available voices:', voices.map(v => `${v.name} (${v.lang})`));
                }
            };

            // Function to stop audio playback
            const stopAudio = () => {
                if ('speechSynthesis' in window) {
                    speechSynthesis.cancel();
                    setIsAudioPlaying(false);
                    setCurrentPlayingText('');
                }
            };

            // Load voices when they become available
            useEffect(() => {
                if ('speechSynthesis' in window) {
                    // Some browsers load voices asynchronously
                    speechSynthesis.onvoiceschanged = logAvailableVoices;
                    logAvailableVoices(); // Try immediately
                }
            }, []);

            // Keyboard shortcut for stopping audio (Escape key)
            useEffect(() => {
                const handleKeyDown = (event) => {
                    if (event.key === 'Escape' && isAudioPlaying) {
                        stopAudio();
                    }
                };

                document.addEventListener('keydown', handleKeyDown);
                return () => {
                    document.removeEventListener('keydown', handleKeyDown);
                };
            }, [isAudioPlaying]);

            // Filter phrases based on current mode and filters
            const filteredPhrases = phrases.filter(phrase => {
                if (phrase.type !== currentMode) return false;
                if (currentMode === 'staff' && staffSubcategoryFilter !== 'All' && phrase.category !== staffSubcategoryFilter) return false;
                if (currentMode === 'customer' && customerSubcategoryFilter !== 'All' && phrase.category !== customerSubcategoryFilter) return false;
                return true;
            });

            // Group phrases by category
            const groupedPhrases = filteredPhrases.reduce((acc, phrase) => {
                if (!acc[phrase.category]) {
                    acc[phrase.category] = [];
                }
                acc[phrase.category].push(phrase);
                return acc;
            }, {});

            // Get category names for filtering
            const staffCategories = [...new Set(phrases.filter(p => p.type === 'staff').map(p => p.category))];
            const customerCategories = [...new Set(phrases.filter(p => p.type === 'customer').map(p => p.category))];

            // Function to get native language name for category
            const getCategoryNativeName = (categoryName, currentLanguage) => {
                const categoryTranslations = {
                    'General Enquiries': {
                        'zh-CN': '一般查询',
                        'zh-HK': '一般查詢',
                        'ne-NP': 'सामान्य जानकारी',
                        'el-GR': 'Γενικές Ερωτήσεις',
                        'ar-SA': 'استفسارات عامة',
                        'mk-MK': 'Општи прашања',
                        'es-ES': 'Consultas Generales',
                        'it-IT': 'Richieste Generali',
                        'id-ID': 'Pertanyaan Umum'
                    },
                    'Digital Services': {
                        'zh-CN': '数字服务',
                        'zh-HK': '數位服務',
                        'ne-NP': 'डिजिटल सेवाहरू',
                        'el-GR': 'Ψηφιακές Υπηρεσίες',
                        'ar-SA': 'الخدمات الرقمية',
                        'mk-MK': 'Дигитални услуги',
                        'es-ES': 'Servicios Digitales',
                        'it-IT': 'Servizi Digitali',
                        'id-ID': 'Layanan Digital'
                    },
                    'Transactional': {
                        'zh-CN': '交易服务',
                        'zh-HK': '交易服務',
                        'ne-NP': 'लेनदेन सेवाहरू',
                        'el-GR': 'Συναλλακτικές Υπηρεσίες',
                        'ar-SA': 'الخدمات المعاملاتية',
                        'mk-MK': 'Трансакциски услуги',
                        'es-ES': 'Servicios Transaccionales',
                        'it-IT': 'Servizi Transazionali',
                        'id-ID': 'Layanan Transaksional'
                    },
                    'General Assistance': {
                        'zh-CN': '一般协助',
                        'zh-HK': '一般協助',
                        'ne-NP': 'सामान्य सहयोग',
                        'el-GR': 'Γενική Βοήθεια',
                        'ar-SA': 'المساعدة العامة',
                        'mk-MK': 'Општа помош',
                        'es-ES': 'Asistencia General',
                        'it-IT': 'Assistenza Generale',
                        'id-ID': 'Bantuan Umum'
                    }
                };
                
                const currentLangCode = LANGUAGE_CODES[currentLanguage].code;
                return categoryTranslations[categoryName]?.[currentLangCode] || categoryName;
            };

            return (
                <div className="min-h-screen" style={{ backgroundColor: brandColors.lightGreyBackground }}>
                    <div className="max-w-4xl mx-auto rounded-xl shadow-lg p-6 md:p-8" style={{ backgroundColor: 'white' }}>
                        {/* Logo */}
                        <div className="flex justify-center mb-6 p-4 rounded-lg" style={{ backgroundColor: brandColors.darkTeal }}>
                            <img
                                src="https://georgesriver.spydus.com/api/maintenance/1.0/imagebrowser/image?blobName=a31cf63f-7e24-41d5-b1f8-c206bde45ce6.png"
                                alt="Georges River Libraries Logo"
                                className="h-1 md:h-2 object-contain rounded-md"
                                onError={(e) => {
                                    e.target.onerror = null;
                                    e.target.src = "https://placehold.co/300x80/007A70/ffffff?text=Georges+River+Libraries";
                                }}
                            />
                        </div>

                        <h1 className="text-4xl md:text-5xl font-bold text-center mb-6 text-shadow-light" style={{ color: brandColors.darkTeal }}>
                            Georges River Libraries Babel Fish
                        </h1>

                        {/* Mode Selection Buttons */}
                        <div className="flex justify-center gap-4 mb-8">
                            <button
                                onClick={() => setCurrentMode('staff')}
                                className={`button-base mt-2 ${currentMode === 'staff' ? 'button-primary-active' : 'button-primary-inactive'}`}
                            >
                                For Staff
                            </button>
                            <button
                                onClick={() => setCurrentMode('customer')}
                                className={`button-base mt-2 ${currentMode === 'customer' ? 'button-accent-active' : 'button-accent-inactive'}`}
                            >
                                For Customers
                            </button>
                        </div>



                        {/* Language Selection */}
                        <div className="language-buttons-container mb-8">
                            {currentMode === 'staff' ? (
                                <>
                                    <div className="language-buttons-row">
                                        <button
                                            onClick={() => setStaffLanguage('Mandarin')}
                                            className={`language-button ${staffLanguage === 'Mandarin' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            Mandarin
                                        </button>
                                        <button
                                            onClick={() => setStaffLanguage('Cantonese')}
                                            className={`language-button ${staffLanguage === 'Cantonese' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            Cantonese
                                        </button>
                                        <button
                                            onClick={() => setStaffLanguage('Nepali')}
                                            className={`language-button ${staffLanguage === 'Nepali' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            Nepali
                                        </button>
                                        <button
                                            onClick={() => setStaffLanguage('Greek')}
                                            className={`language-button ${staffLanguage === 'Greek' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            Greek
                                        </button>
                                        <button
                                            onClick={() => setStaffLanguage('Arabic')}
                                            className={`language-button ${staffLanguage === 'Arabic' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            Arabic
                                        </button>
                                        <button
                                            onClick={() => setStaffLanguage('Macedonian')}
                                            className={`language-button ${staffLanguage === 'Macedonian' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            Macedonian
                                        </button>
                                        <button
                                            onClick={() => setStaffLanguage('Spanish')}
                                            className={`language-button ${staffLanguage === 'Spanish' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            Spanish
                                        </button>
                                    </div>
                                    <div className="language-buttons-row">
                                        <button
                                            onClick={() => setStaffLanguage('Italian')}
                                            className={`language-button ${staffLanguage === 'Italian' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            Italian
                                        </button>
                                        <button
                                            onClick={() => setStaffLanguage('Indonesian')}
                                            className={`language-button ${staffLanguage === 'Indonesian' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            Indonesian
                                        </button>
                                    </div>
                                </>
                            ) : (
                                <>
                                    <div className="language-buttons-row">
                                        <button
                                            onClick={() => setCustomerLanguage('Mandarin')}
                                            className={`language-button ${customerLanguage === 'Mandarin' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>普通话</span><br /><span style={{fontSize: '0.75rem', opacity: 0.8}}>Mandarin</span>
                                        </button>
                                        <button
                                            onClick={() => setCustomerLanguage('Cantonese')}
                                            className={`language-button ${customerLanguage === 'Cantonese' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>粤语</span><br /><span style={{fontSize: '0.75rem', opacity: 0.8}}>Cantonese</span>
                                        </button>
                                        <button
                                            onClick={() => setCustomerLanguage('Nepali')}
                                            className={`language-button ${customerLanguage === 'Nepali' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>नेपाली</span><br /><span style={{fontSize: '0.75rem', opacity: 0.8}}>Nepali</span>
                                        </button>
                                        <button
                                            onClick={() => setCustomerLanguage('Greek')}
                                            className={`language-button ${customerLanguage === 'Greek' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>Ελληνικά</span><br /><span style={{fontSize: '0.75rem', opacity: 0.8}}>Greek</span>
                                        </button>
                                        <button
                                            onClick={() => setCustomerLanguage('Arabic')}
                                            className={`language-button ${customerLanguage === 'Arabic' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>العربية</span><br /><span style={{fontSize: '0.75rem', opacity: 0.8}}>Arabic</span>
                                        </button>
                                        <button
                                            onClick={() => setCustomerLanguage('Macedonian')}
                                            className={`language-button ${customerLanguage === 'Macedonian' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>Македонски</span><br /><span style={{fontSize: '0.75rem', opacity: 0.8}}>Macedonian</span>
                                        </button>
                                        <button
                                            onClick={() => setCustomerLanguage('Spanish')}
                                            className={`language-button ${customerLanguage === 'Spanish' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>Español</span><br /><span style={{fontSize: '0.75rem', opacity: 0.8}}>Spanish</span>
                                        </button>
                                    </div>
                                    <div className="language-buttons-row">
                                        <button
                                            onClick={() => setCustomerLanguage('Italian')}
                                            className={`language-button ${customerLanguage === 'Italian' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>Italiano</span><br /><span style={{fontSize: '0.75rem', opacity: 0.8}}>Italian</span>
                                        </button>
                                        <button
                                            onClick={() => setCustomerLanguage('Indonesian')}
                                            className={`language-button ${customerLanguage === 'Indonesian' ? 'language-button-active' : 'language-button-inactive'}`}
                                        >
                                            <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>Bahasa Indonesia</span><br /><span style={{fontSize: '0.75rem', opacity: 0.8}}>Indonesian</span>
                                        </button>
                                    </div>
                                </>
                            )}
                        </div>

                        {/* Category Filter Buttons */}
                        <div className="flex flex-wrap justify-center gap-4 mb-8">
                            {currentMode === 'staff' ? (
                                <>
                                    <button
                                        onClick={() => setStaffSubcategoryFilter('All')}
                                        className={`language-button ${staffSubcategoryFilter === 'All'
                                            ? 'language-button-active'
                                            : 'language-button-inactive'
                                        }`}
                                    >
                                        All
                                    </button>
                                    {staffCategories.map((actualCategoryName) => (
                                        <button
                                            key={actualCategoryName}
                                            onClick={() => setStaffSubcategoryFilter(actualCategoryName)}
                                            className={`language-button ${staffSubcategoryFilter === actualCategoryName
                                                ? 'language-button-active'
                                                : 'language-button-inactive'
                                            }`}
                                        >
                                            {actualCategoryName}
                                        </button>
                                    ))}
                                </>
                            ) : (
                                <>
                                    <button
                                        onClick={() => setCustomerSubcategoryFilter('All')}
                                        className={`language-button ${customerSubcategoryFilter === 'All'
                                            ? 'language-button-active'
                                            : 'language-button-inactive'
                                        }`}
                                    >
                                        <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>
                                            {(() => {
                                                const allTranslations = {
                                                    'zh-CN': '全部',
                                                    'zh-HK': '全部',
                                                    'ne-NP': 'सबै',
                                                    'el-GR': 'Όλα',
                                                    'ar-SA': 'الكل',
                                                    'mk-MK': 'Сите',
                                                    'es-ES': 'Todo',
                                                    'it-IT': 'Tutto',
                                                    'id-ID': 'Semua'
                                                };
                                                const currentLanguage = customerLanguage;
                                                const langCode = LANGUAGE_CODES[currentLanguage].code;
                                                return allTranslations[langCode] || 'All';
                                            })()}
                                        </span><br />
                                        <span style={{fontSize: '0.75rem', opacity: 0.8}}>All</span>
                                    </button>
                                    {customerCategories.map((actualCategoryName) => {
                                        // Define translations for category names
                                        const categoryTranslations = {
                                            'General Assistance': {
                                                'zh-CN': '一般协助',
                                                'zh-HK': '一般協助',
                                                'ne-NP': 'सामान्य सहयोग',
                                                'el-GR': 'Γενική Βοήθεια',
                                                'ar-SA': 'المساعدة العامة',
                                                'mk-MK': 'Општа помош',
                                                'es-ES': 'Asistencia General',
                                                'it-IT': 'Assistenza Generale',
                                                'id-ID': 'Bantuan Umum'
                                            },
                                            'Digital Services': {
                                                'zh-CN': '数字服务',
                                                'zh-HK': '數位服務',
                                                'ne-NP': 'डिजिटल सेवाहरू',
                                                'el-GR': 'Ψηφιακές Υπηρεσίες',
                                                'ar-SA': 'الخدمات الرقمية',
                                                'mk-MK': 'Дигитални услуги',
                                                'es-ES': 'Servicios Digitales',
                                                'it-IT': 'Servizi Digitali',
                                                'id-ID': 'Layanan Digital'
                                            },
                                            'Transactional': {
                                                'zh-CN': '交易服务',
                                                'zh-HK': '交易服務',
                                                'ne-NP': 'लेनदेन सेवाहरू',
                                                'el-GR': 'Συναλλακτικές Υπηρεσίες',
                                                'ar-SA': 'الخدمات المعاملاتية',
                                                'mk-MK': 'Трансакциски услуги',
                                                'es-ES': 'Servicios Transaccionales',
                                                'it-IT': 'Servizi Transazionali',
                                                'id-ID': 'Layanan Transaksional'
                                            }
                                        };
                                        
                                        const currentLanguage = customerLanguage;
                                        const langCode = LANGUAGE_CODES[currentLanguage].code;
                                        const translation = categoryTranslations[actualCategoryName]?.[langCode] || actualCategoryName;
                                        
                                        return (
                                            <button
                                                key={actualCategoryName}
                                                onClick={() => setCustomerSubcategoryFilter(actualCategoryName)}
                                                className={`language-button ${customerSubcategoryFilter === actualCategoryName
                                                    ? 'language-button-active'
                                                    : 'language-button-inactive'
                                                }`}
                                            >
                                                <span style={{fontSize: '1.1rem', fontWeight: 'bold'}}>{translation}</span><br />
                                                <span style={{fontSize: '0.75rem', opacity: 0.8}}>{actualCategoryName}</span>
                                            </button>
                                        );
                                    })}
                                </>
                            )}
                        </div>



                        {/* Phrase List Display */}
                        {Object.keys(groupedPhrases).length === 0 && (
                            <div className="text-center text-lg py-10" style={{ color: brandColors.mediumGrey }}>
                                {isAuthReady ? 'Loading phrases or no phrases found.' : 'Initialising application...'}
                            </div>
                        )}

                        {Object.keys(groupedPhrases).map((category) => (
                            <div key={category} className="mb-8 category-section">
                                <h2 className="text-2xl md:text-3xl font-bold mb-4 pb-2 border-b-2" style={{ color: brandColors.darkTeal, borderColor: brandColors.primaryTeal, marginLeft: '0', paddingLeft: '0' }}>
                                    <div className="text-center">
                                        <div className="text-xl font-bold mb-1" style={{ color: brandColors.darkTeal }}>
                                            {getCategoryNativeName(category, currentMode === 'staff' ? staffLanguage : customerLanguage)}
                                        </div>
                                        <div className="text-lg font-medium" style={{ color: brandColors.mediumGrey }}>{category}</div>
                                    </div>
                                </h2>
                                <ul className="phrase-list-grid">
                                    {groupedPhrases[category].map((phrase) => (
                                        <li
                                            key={phrase.id}
                                            className="phrase-card cursor-pointer"
                                            onClick={() => {
                                                if (phrase.english === 'How do I get to Centrelink?' && currentMode === 'customer') {
                                                    setQrPopupType('centrelink');
                                                    setShowQrPopup(true);
                                                } else if (phrase.english === 'Where are the computers?' && currentMode === 'customer') {
                                                    setQrPopupType('computers');
                                                    setShowQrPopup(true);
                                                }
                                            }}
                                        >
                                            <div className="flex-1 text-left mb-4">
                                                {currentMode === 'staff' ? (
                                                    <>
                                                        <p className="text-base font-medium mb-1" style={{ color: brandColors.darkGreyText }}>{phrase.english}</p>
                                                        <p className="text-lg font-semibold" style={{ color: brandColors.darkTeal }}>
                                                            {phrase.translations?.[LANGUAGE_CODES[staffLanguage].code] || phrase.english}
                                                        </p>
                                                    </>
                                                ) : (
                                                    <>
                                                        <p className="text-lg font-semibold mb-1" style={{ color: brandColors.darkTeal }}>
                                                            {phrase.translations?.[LANGUAGE_CODES[customerLanguage].code] || phrase.english}
                                                        </p>
                                                        <p className="text-base font-medium" style={{ color: brandColors.darkGreyText }}>
                                                            {phrase.english}
                                                            {(phrase.english === 'How do I get to Centrelink?' || phrase.english === 'Where are the computers?') && (
                                                                <>
                                                                    <br />
                                                                    <span className="text-sm ml-0 italic" style={{color: brandColors.mediumGrey}}>
                                                                        {phrase.english === 'How do I get to Centrelink?' ? 'Click on me for a map' : 'Click on me for computer locations'}
                                                                    </span>
                                                                </>
                                                            )}
                                                        </p>
                                                    </>
                                                )}
                                            </div>
                                            <button
                                                onClick={(e) => {
                                                    e.stopPropagation();
                                                    if (phrase.english === 'How do I get to Centrelink?' && currentMode === 'customer') {
                                                        setQrPopupType('centrelink');
                                                        setShowQrPopup(true);
                                                    } else if (phrase.english === 'Where are the computers?' && currentMode === 'customer') {
                                                        setQrPopupType('computers');
                                                        setShowQrPopup(true);
                                                    } else {
                                                        const currentLanguage = currentMode === 'staff' ? staffLanguage : customerLanguage;
                                                        const langCode = LANGUAGE_CODES[currentLanguage].code;
                                                        const translatedText = phrase.translations?.[langCode] || phrase.english;
                                                        
                                                        // If this text is currently playing, stop it
                                                        if (isAudioPlaying && currentPlayingText === translatedText) {
                                                            stopAudio();
                                                        } else {
                                                            speakPhrase(translatedText, langCode);
                                                        }
                                                    }
                                                }}
                                                className="flex-shrink-0 p-3 rounded-full shadow-md transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-opacity-75"
                                                style={{ 
                                                    backgroundColor: (() => {
                                                        const currentLanguage = currentMode === 'staff' ? staffLanguage : customerLanguage;
                                                        const langCode = LANGUAGE_CODES[currentLanguage].code;
                                                        const translatedText = phrase.translations?.[langCode] || phrase.english;
                                                        
                                                        if (isAudioPlaying && currentPlayingText === translatedText) {
                                                            return '#004D40'; // Dark teal when playing
                                                        }
                                                        return currentMode === 'staff' ? brandColors.primaryTeal : brandColors.accentRed;
                                                    })(),
                                                    color: 'white', 
                                                    focusRingColor: brandColors.primaryTeal, 
                                                    border: 'none',
                                                    animation: (() => {
                                                        const currentLanguage = currentMode === 'staff' ? staffLanguage : customerLanguage;
                                                        const langCode = LANGUAGE_CODES[currentLanguage].code;
                                                        const translatedText = phrase.translations?.[langCode] || phrase.english;
                                                        
                                                        if (isAudioPlaying && currentPlayingText === translatedText) {
                                                            return 'pulse 1s infinite';
                                                        }
                                                        return 'none';
                                                    })()
                                                }}
                                                title={(() => {
                                                    const currentLanguage = currentMode === 'staff' ? staffLanguage : customerLanguage;
                                                    const langCode = LANGUAGE_CODES[currentLanguage].code;
                                                    const translatedText = phrase.translations?.[langCode] || phrase.english;
                                                    
                                                    if (isAudioPlaying && currentPlayingText === translatedText) {
                                                        return 'Stop audio';
                                                    }
                                                    return 'Play audio';
                                                })()}
                                            >
                                                {(() => {
                                                    const currentLanguage = currentMode === 'staff' ? staffLanguage : customerLanguage;
                                                    const langCode = LANGUAGE_CODES[currentLanguage].code;
                                                    const translatedText = phrase.translations?.[langCode] || phrase.english;
                                                    
                                                    if (isAudioPlaying && currentPlayingText === translatedText) {
                                                        return (
                                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                                                <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                                                            </svg>
                                                        );
                                                    }
                                                    return speakerIcon;
                                                })()}
                                            </button>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        ))}


                    </div>

                    {/* QR Code Pop-up Modal */}
                    {showQrPopup && (
                        <div className="popup-overlay">
                            <div className="popup-content">
                                <button className="popup-close" onClick={() => setShowQrPopup(false)}>
                                    &times;
                                </button>
                                {qrPopupType === 'centrelink' ? (
                                    <>
                                        <h3 className="text-2xl font-bold text-teal-800 mb-4">Directions to Centrelink</h3>
                                        <p className="text-lg text-gray-700 mb-4">Scan this QR code for Google Maps directions (in Mandarin):</p>
                                        
                                        {/* Google Map iframe */}
                                        <iframe
                                            src="https://www.google.com/maps/embed/v1/directions?key=&origin=Hurstville+Library,+12-16+MacMahon+St,+Hurstville+NSW+2220,+Australia&destination=Centrelink+Hurstville,+125+Forest+Rd,+Hurstville+NSW+2220,+Australia&mode=driving&language=zh-CN"
                                            width="100%"
                                            height="300"
                                            style={{ border: 0, borderRadius: '0.5rem', marginBottom: '1rem' }}
                                            allowFullScreen=""
                                            loading="lazy"
                                            referrerPolicy="no-referrer-when-downgrade"
                                            title="Directions to Centrelink Hurstville"
                                        ></iframe>
                                        
                                        <img
                                            src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://www.google.com/maps/dir/?api=1&origin=12-16%20MacMahon%20St,%20Hurstville%20NSW%202220,%20Australia&destination=125%20Forest%20Rd,%20Hurstville%20NSW%202220,%20Australia&travelmode=driving&hl=zh-CN"
                                            alt="QR Code for Centrelink Directions"
                                            className="w-48 h-48 object-contain mx-auto rounded-md"
                                            onError={(e) => {
                                                e.target.onerror = null;
                                                e.target.src = "https://placehold.co/192x192/cccccc/333333?text=QR+Error";
                                            }}
                                        />
                                        <p className="text-sm text-gray-500 mt-4">Opens in Google Maps app or browser.</p>
                                    </>
                                ) : qrPopupType === 'computers' ? (
                                    <>
                                        <h3 className="text-2xl font-bold text-teal-800 mb-4">Computer Locations</h3>
                                        <p className="text-lg text-gray-700 mb-4">Public computers are available in the following areas:</p>
                                        
                                        <div className="text-left mb-4">
                                            <h4 className="font-semibold text-lg mb-2" style={{ color: brandColors.darkTeal }}>Computer Stations:</h4>
                                            <ul className="list-disc list-inside space-y-1 text-gray-700">
                                                <li>Ground Floor - Main Computer Lab (8 computers)</li>
                                                <li>Ground Floor - Quick Access Terminals (4 computers)</li>
                                                <li>First Floor - Study Area (6 computers)</li>
                                                <li>Children's Section - Educational Computers (2 computers)</li>
                                            </ul>
                                            
                                            <h4 className="font-semibold text-lg mb-2 mt-4" style={{ color: brandColors.darkTeal }}>Wi-Fi Information:</h4>
                                            <ul className="list-disc list-inside space-y-1 text-gray-700">
                                                <li>Network: "GeorgesRiver_Library"</li>
                                                <li>Password: "Library2024"</li>
                                                <li>Free unlimited access</li>
                                            </ul>
                                        </div>
                                        
                                        <img
                                            src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=Network:GeorgesRiver_Library%0APassword:Library2024%0A%0AConnect to library Wi-Fi for free internet access."
                                            alt="QR Code for Wi-Fi Information"
                                            className="w-48 h-48 object-contain mx-auto rounded-md"
                                            onError={(e) => {
                                                e.target.onerror = null;
                                                e.target.src = "https://placehold.co/192x192/cccccc/333333?text=QR+Error";
                                            }}
                                        />
                                        <p className="text-sm text-gray-500 mt-4">Scan to get Wi-Fi connection details.</p>
                                    </>
                                ) : null}
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
